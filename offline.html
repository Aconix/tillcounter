<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Till Counter</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <link rel="manifest" href="manifest.json"> <!--This is grabbing the manifest file for progressive web apps.-->
    <link rel="manifest" href="/github-page-pwa/manifest.webmanifest"> <!--Additionally, this grabs web manifesto.-->
    <style type="text/css" media="print">
        @page {
            size: auto;
            /* auto is the initial value */
            margin: 0;
            /* this affects the margin in the printer settings */
        }
    </style>
    <meta name="theme-color" content="#FFFFFF" /> <!--This is used for the progressive web app theme-->
</head>

<body>
    <div class="sticky-sm-top d-print-none">
        <nav class="navbar bg-body-tertiary">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">
                    <img src="logo.png" alt="Logo" width="30" height="24" class="d-inline-block align-text-top">
                    Till Counter
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link disabled" aria-disabled="true"><small>Till Counter - Aconix (c)
                                    2023</small></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" target="_blank"
                                href="https://amaconix.notion.site/Till-Counter-261460f08f95462cab813e280771142a?pvs=4">Documentation</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
    <div class="container my-4">
        <div class="d-print-none">
            <div class="input-group mb-3">
                <span class="input-group-text">Float Ending Amount</span>
                <span class="input-group-text">$</span>
                <input type="number" pattern="\d*" class="form-control" id="floatending"></type=>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text">Cashier Report Value</span>
                <span class="input-group-text">$</span>
                <input type="number" pattern="\d*" class="form-control" id="cashierreport"></type=>
            </div>
        </div>


        <div class="container d-print-none">
            <div class="row">
                <div class="col-md">
                    <h4>Step 1</h4>
                    <h6>Record the values of money in the till.</h6>
                    <div class="input-group mb-3">
                        <span class="input-group-text">5c</span>
                        <input type="number" pattern="\d*" class="form-control" id="oneinput00005"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">$</span>
                        <!--The below text is what's used to display the calculated values. The text is identified by the ID, and changed in the javascript code.-->
                        <span class="input-group-text" id="one00005">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">10c</span>
                        <input type="number" pattern="\d*" class="form-control" id="oneinput00010"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="one00010">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">20c</span>
                        <input type="number" pattern="\d*" class="form-control" id="oneinput00020"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="one00020">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">50c</span>
                        <input type="number" pattern="\d*" class="form-control" id="oneinput00050"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="one00050">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">$1</span>
                        <input type="number" pattern="\d*" class="form-control" id="oneinput00100"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="one00100">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">$2</span>
                        <input type="number" pattern="\d*" class="form-control" id="oneinput00200"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="one00200">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">$5</span>
                        <input type="number" pattern="\d*" class="form-control" id="oneinput00500"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="one00500">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">$10</span>
                        <input type="number" pattern="\d*" class="form-control" id="oneinput01000"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="one01000">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">$20</span>
                        <input type="number" pattern="\d*" class="form-control" id="oneinput02000"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="one02000">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">$50</span>
                        <input type="number" pattern="\d*" class="form-control" id="oneinput05000"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="one05000">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">$100</span>
                        <input type="number" pattern="\d*" class="form-control" id="oneinput10000"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="one10000">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">Rolls</span>
                        <input type="number" pattern="\d*" class="form-control" id="oneinputrolls"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="onerolls">0.00</span>
                    </div>
                    <h3>Total: <span class="badge bg-primary" id="onetotal">$0.00</span></h3>
                    <h6>Amount to Take Out: <span class="badge bg-primary" id="onetakeout">$0.00</span></h6>
                </div>
                <div class="col-md">
                    <h4>Step 2</h4>
                    <h6>Take out the required money until the amount is 0.</h6>
                    <div class="input-group mb-3">
                        <span class="input-group-text">5c</span>
                        <input type="number" pattern="\d*" class="form-control" id="twoinput00005"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">-</span>
                        <span class="input-group-text" id="twob00005">0</span>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="twoa00005">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">10c</span>
                        <input type="number" pattern="\d*" class="form-control" id="twoinput00010"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">-</span>
                        <span class="input-group-text" id="twob00010">0</span>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="twoa00010">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">20c</span>
                        <input type="number" pattern="\d*" class="form-control" id="twoinput00020"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">-</span>
                        <span class="input-group-text" id="twob00020">0</span>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="twoa00020">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">50c</span>
                        <input type="number" pattern="\d*" class="form-control" id="twoinput00050"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">-</span>
                        <span class="input-group-text" id="twob00050">0</span>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="twoa00050">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">$1</span>
                        <input type="number" pattern="\d*" class="form-control" id="twoinput00100"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">-</span>
                        <span class="input-group-text" id="twob00100">0</span>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="twoa00100">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">$2</span>
                        <input type="number" pattern="\d*" class="form-control" id="twoinput00200"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">-</span>
                        <span class="input-group-text" id="twob00200">0</span>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="twoa00200">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">$5</span>
                        <input type="number" pattern="\d*" class="form-control" id="twoinput00500"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">-</span>
                        <span class="input-group-text" id="twob00500">0</span>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="twoa00500">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">$10</span>
                        <input type="number" pattern="\d*" class="form-control" id="twoinput01000"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">-</span>
                        <span class="input-group-text" id="twob01000">0</span>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="twoa01000">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">$20</span>
                        <input type="number" pattern="\d*" class="form-control" id="twoinput02000"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">-</span>
                        <span class="input-group-text" id="twob02000">0</span>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="twoa02000">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">$50</span>
                        <input type="number" pattern="\d*" class="form-control" id="twoinput05000"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">-</span>
                        <span class="input-group-text" id="twob05000">0</span>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="twoa05000">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">$100</span>
                        <input type="number" pattern="\d*" class="form-control" id="twoinput10000"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">-</span>
                        <span class="input-group-text" id="twob10000">0</span>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="twoa10000">0.00</span>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">Rolls</span>
                        <input type="number" pattern="\d*" class="form-control" id="twoinputrolls"
                            aria-label="Dollar amount (with dot and two decimal places)"></type=>
                        <span class="input-group-text">-</span>
                        <span class="input-group-text" id="twobrolls">0</span>
                        <span class="input-group-text">$</span>
                        <span class="input-group-text" id="twoarolls">0.00</span>
                        <h3>Amount Left to Take Out: <span class="badge bg-primary" id="twotakeout">$0.00</span></h3>
                    </div>
                </div>
            </div>
        </div>

        <div class="pt-5">
            <h4>Till Balance Table</h4>
            <h6 class="d-print-none">Copy down these details, or print it out!</h6>
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Currenncy</th>
                        <th scope="col">Amount in Till</th>
                        <th scope="col">Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">5c</th>
                        <td id="tableunit00005">0</td>
                        <td id="table00005">$0.00</td>
                    </tr>
                    <tr>
                        <th scope="row">10c</th>
                        <td id="tableunit00010">0</td>
                        <td id="table00010">$0.00</td>
                    </tr>
                    <tr>
                        <th scope="row">20c</th>
                        <td id="tableunit00020">0</td>
                        <td id="table00020">$0.00</td>
                    </tr>
                    <tr>
                        <th scope="row">50c</th>
                        <td id="tableunit00050">0</td>
                        <td id="table00050">$0.00</td>
                    </tr>
                    <tr>
                        <th scope="row">$1</th>
                        <td id="tableunit00100">0</td>
                        <td id="table00100">$0.00</td>
                    </tr>
                    <tr>
                        <th scope="row">$2</th>
                        <td id="tableunit00200">0</td>
                        <td id="table00200">$0.00</td>
                    </tr>
                    <tr>
                        <th scope="row">$5</th>
                        <td id="tableunit00500">0</td>
                        <td id="table00500">$0.00</td>
                    </tr>
                    <tr>
                        <th scope="row">$10</th>
                        <td id="tableunit01000">0</td>
                        <td id="table01000">$0.00</td>
                    </tr>
                    <tr>
                        <th scope="row">$20</th>
                        <td id="tableunit02000">0</td>
                        <td id="table02000">$0.00</td>
                    </tr>
                    <tr>
                        <th scope="row">$50</th>
                        <td id="tableunit05000">0</td>
                        <td id="table05000">$0.00</td>
                    </tr>
                    <tr>
                        <th scope="row">$100</th>
                        <td id="tableunit10000">0</td>
                        <td id="table10000">$0.00</td>
                    </tr>
                    <tr>
                        <th scope="row">Rolls</th>
                        <td id="tableunitrolls">0</td>
                        <td id="tablerolls">$0.00</td>
                    </tr>
                </tbody>
            </table>
            <h3>Total: <span class="badge bg-primary" id="tabletotal">$0.00</span></h3>
        </div>
        <div class="d-print-none">
            <h3>Over or under: <span class="badge bg-primary" id="tableoverunder">$0.00</span></h3>
            <button class="btn btn-primary" type="submit" onclick="print()">Print</button>
            <button class="btn btn-danger" type="submit" onclick="refreshPage()">Reset</button>
        </div>
        <!--
            <button class="btn btn-primary" type="submit" onclick="buttona()">Run dat money</button>
        -->
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
    <script type="text/javascript">
        var required_float = 0
        var cashier_report = 0
        var one_input = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];  // This is where the value of the text boxes in step 1 are stored.
        var one_result = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]; // This the where the uneditable results of step 1 are stored.
        var two_input = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];  // This is where the input of step 2 is stored.
        var two_result_negative = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]; // This stores the 'negative' values, so they can be subtracted from the original amount (one_result). They aren't actually stored as negatives.
        var two_result_positive = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]; // This stores one_result - two_result_negative, which gives us our modified score.
        var currency_values = [0.05, 0.10, 0.20, 0.50, 1, 2, 5, 10, 20, 50, 100, 1, 0];
        var ids = ["00005", "00010", "00020", "00050", "00100", "00200", "00500", "01000", "02000", "05000", "10000", "rolls"] // These are the codes that are used by the HTML elements, so they can be updated accordingly using for loops..
        function reset() {
            var one_input = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
            var one_result = [0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00];
            var two_input = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];  // This is where the input of step 2 is stored.
            var two_result_negative = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]; // This stores the 'negative' values, so they can be subtracted from the original amount (one_result). They aren't actually stored as negatives.
            var two_result_positive = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        }

        function storeInputValues() {
            var input_box = document.getElementById("floatending");
            required_float = input_box.value

            var input_box = document.getElementById("cashierreport");
            cashier_report = input_box.value

            for (let i = 0; i < 12; i++) {
                let input_box = document.getElementById("oneinput" + ids[i]);
                one_input[i] = input_box.value
            };
            for (let i = 0; i < 12; i++) {
                let input_box = document.getElementById("twoinput" + ids[i]);
                two_input[i] = input_box.value
            };
            //alert("Placed Values.")
        }

        function placeValueOnScreen(tag, id, item) {  // Just do "" if there isn't a tag. In this code, a tag is defined as the letters before the numeric ID in the html code. e.g. "one00010"
            let span = document.getElementById(tag + id);
            span.textContent = item;
        }


        function calculateAndUpdateAllScreenElements() {  // Takes values in arrays and performs the required calculations. Then it places the value on screen.
            console.log(one_input);
            for (let i = 0; i < 12; i++) { // This for loop calculates the amount of money and places it into values on screen in Step 1 & Values in Step 2.
                calculated_value = one_input[i] * currency_values[i]; // For each currency in step 1, the amount of coins / notes are multiplied by the value of the currency, giving the full amount of that currency. 
                one_result[i] = calculated_value.toFixed(2);
                placeValueOnScreen("one", ids[i], one_result[i]);  // Places value on the screen, using the currency ID, and the prefix.
            };
            for (let i = 0; i < 12; i++) { // This loop calculates the subscraction in Step 2 
                calculated_value = two_input[i] * currency_values[i];
                two_result_negative[i] = calculated_value.toFixed(2);
                placeValueOnScreen("twoa", ids[i], two_result_negative[i]);
                calculated_value = one_result[i] - two_result_negative[i]
                two_result_positive[i] = calculated_value.toFixed(2)
                placeValueOnScreen("twob", ids[i], one_input[i] - two_input[i]);
            }
            console.log(one_result);
            console.log(cashier_report);
            placeValueOnScreen("", "onetotal", "$" + sum(one_result));
            var takeout = sum(one_result) - required_float;
            var totaltakenout = sum(two_result_negative)
            placeValueOnScreen("", "onetakeout", "$" + takeout.toFixed(2));
            placeValueOnScreen("", "twotakeout", "$" + (takeout - totaltakenout).toFixed(2));
            console.log(two_result_positive)
            for (let i = 0; i < 12; i++) {
                placeValueOnScreen("table", ids[i], "$" + two_result_positive[i])
                placeValueOnScreen("tableunit", ids[i], one_input[i] - two_input[i])
            }
            placeValueOnScreen("", "tabletotal", "$" + sum(two_result_positive))
            placeValueOnScreen("", "tableoverunder", "$" + (totaltakenout - cashier_report).toFixed(2))

            //alert("This should have worked.");
        }

        function execute() {
            storeInputValues();
            calculateAndUpdateAllScreenElements();
        };

        function sum(array) {
            total = 0.00
            for (let i = 0; i < array.length; i++) {
                total += parseFloat(array[i])
                print
            };
            return total.toFixed(2);
        }

        function refreshPage() {
            if (confirm("Are you sure you want to reset the grid?") == true) {
                location.reload()
            }
        };

        reset()

        document.addEventListener('keyup', function (event) { // Runs the function within the program when a button is released.
            execute()
        });
        document.addEventListener('mouseup', function (event) { // Runs the function within the program when a button is released.
            execute()
        });
    </script>
    <script>
        if (typeof navigator.serviceWorker !== 'undefined') {  // Registers a service worker for the progressive web app.
            navigator.serviceWorker.register('sw.js')
        }
    </script>
</body>

</html>
<!--
00005
00010
00020
00050
00100
00200
00500
01000
02000
05000
10000
rolls
-->